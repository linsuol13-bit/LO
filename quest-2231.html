<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>퀘스트 상세 • 리더 알 당신은 누구죠?</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif; }
  .card { border:1px solid #e5e7eb; border-radius:0.75rem; background:#fff; padding:1rem; }
  .muted { color:#6b7280; }
  .row { display:flex; align-items:center; gap:.75rem; }
  .grid { display:grid; gap:1rem; }
  img { max-width:100%; height:auto; }
  .thumb { width:56px; height:56px; object-fit:contain; background:#fff; border:1px solid #e5e7eb; border-radius:0.5rem; padding:4px; }
  .ibox { display:flex; align-items:center; gap:.75rem; padding:.5rem; border:1px solid #e5e7eb; border-radius:0.75rem; background:#fff; transition: background .15s ease; }
  .ibox:hover { background:#f9fafb; }
  .bubble{position:relative;max-width:80%;padding:.625rem .75rem;border-radius:1rem;line-height:1.45;box-shadow:0 1px 2px rgba(0,0,0,.06)}
  .bubble-left{background:#f8fafc;border:1px solid #e5e7eb;color:#111827}
  .bubble-right{background:#3b82f6;border:1px solid #1d4ed8;color:#fff}
  .bubble-left:after{content:"";position:absolute;left:-6px;top:12px;border-width:6px;border-style:solid;border-color:transparent #e5e7eb transparent transparent}
  .bubble-left:before{content:"";position:absolute;left:-5px;top:12px;border-width:6px;border-style:solid;border-color:transparent #f8fafc transparent transparent}
  .bubble-right:after{content:"";position:absolute;right:-6px;top:12px;border-width:6px;border-style:solid;border-color:transparent transparent transparent #1d4ed8}
  .bubble-right:before{content:"";position:absolute;right:-5px;top:12px;border-width:6px;border-style:solid;border-color:transparent transparent transparent #3b82f6}
  .bubble-name{font-weight:600;font-size:.875rem;margin-bottom:.125rem}
  .avatar{width:40px;height:40px;border-radius:9999px;border:1px solid #e5e7eb;object-fit:cover;background:#fff}
</style>
</head>
<body class="bg-gray-50 text-gray-900">
<div class="mx-auto max-w-5xl p-4 sm:p-6 lg:p-8">
<a class="inline-flex items-center gap-1 text-sm mb-4 text-blue-600 hover:underline" href="index.html?tab=quests" id="back-to-quests">← 퀘스트 목록으로</a>
<article id="detail"></article>
</div>
<script>
(()=>{
  'use strict';
  const q = {
  "id": "2231",
  "code": "리더 알 1-1",
  "title": "리더 알 당신은 누구죠?",
  "type": "대화",
  "region": "리스항구",
  "minLevel": 10,
  "start": {
    "npc": {
      "name": "리더 알",
      "img": "https://drive.google.com/thumbnail?id=148PqBS5AWNVDHdkpQgFVFjX3udxdVxH-&sz=w400",
      "id": "1002103"
    },
    "place": {
      "name": "리스항구",
      "img": "https://drive.google.com/thumbnail?id=1u8he4VAl-2zo7NNSdGxzRyImiNoTLljH&sz=w800",
      "code": "104000000"
    }
  },
  "finish": {
    "npc": {
      "name": "리더 알",
      "img": "https://drive.google.com/thumbnail?id=148PqBS5AWNVDHdkpQgFVFjX3udxdVxH-&sz=w400",
      "id": "1002103"
    },
    "place": {
      "name": "리스항구",
      "img": "https://drive.google.com/thumbnail?id=1u8he4VAl-2zo7NNSdGxzRyImiNoTLljH&sz=w800",
      "code": "104000000"
    }
  },
  "dialogues": [
    {
      "who": "리더 알",
      "text": "안녕하신가, [닉네임]! 난 30년째 패밀리 리더를 맡고 있는 리더 알이라고 하네. 내가 누군지 궁금해서 찾아온 건가?"
    },
    {
      "who": "리더 알",
      "text": "헛, 자네는 꽤나 당돌한 모험가로군. 좋아, 적극적인 성격이 마음에 들었다. 30년간 묵혀두었던 내 이야기를 들려주지."
    },
    {
      "who": "리더 알",
      "text": "다만, 자그마치 30년의 세월이네 ... 그냥 생각나는 대로 말하면 나도 횡설수설 할 게 뻔하니 나에게 잠깐의 시간을 주게. 아주 잠깐이면 되네. 내 얘기는 어디 가서 듣지 못하는 값진 모험담이니 자네도 마음의 준비를 단단히 해 놓는 것이 좋을 것이야. 마음의 준비가 끝나면 언제든지 말해주게."
    }
  ],
  "completionDialogues": [
    {
      "who": "리더 알",
      "text": "크흠 …. 기다리게 해서 미안하네. 간만에 내 이야기를 들어줄 사람이 생겨서 나도 좀 기분이 좋군. 그래, 그럼 내 이야기를 시작하도록 하지."
    },
    {
      "who": "리더 알",
      "text": "나에 대한 소개를 하려면 먼저 30년간 나와 동거동락한 패밀리에 대한 이야기를 빼 놓을 수는 없지. 나는 30년 전까지는 혼자서만 모험하기를 고집하던 모험가였었네. 어릴 적부터 난 독보적인 실력을 가졌었기에 내가 살던 마을을 위기에서 구해내기도 했고, 뿔이 무섭게 생긴 거대한 몬스터를 혼자서 쓰러뜨리기도 했지. 그런데 바로 그날."
    },
    {
      "who": "리더 알",
      "text": "세 개의 머리를 가진 거대한 적과 일주일간 사투를 벌이고난 후 지친몸을 치료하던 중이었지. 이제 막 전직을 마친 듯한 어린 모험가 둘이 몬스터와 전투를 벌이고 있었는데 어찌나 아슬아슬하고 위태위태하던지 ... 결국 어린 모험가의 공격을 피한 몬스터의 공격이 시작되려던 찰나 나는 값비싼 물약을 던져서 그들의 생명을 구해주었네. 그때 나는 깨달았지... 모든 것이 바뀌고 말았어."
    },
    {
      "who": "리더 알",
      "text": "아! 세상에는 미숙한 모험가들이 이렇게나 많았구나 …. 모두가 나처럼 뛰어난 실력을 가진 것은 아니구나! 이들을 내버려두어서는 안되겠다, 라고 말일세. 나는 마음을 굳게 먹고 그 두 명을 내가 후원해주기로 여제님께 맹세했다네. 난 그 둘을 내 자식과도 같다는 의미에서 주니어라고 부르고, 그 아이들도 나를 엘더라고 부르며 아버지처럼 따랐지."
    },
    {
      "who": "리더 알",
      "text": "나는 내가 모험하면서 알게 된 모든 지식을 그들에게 가르쳐주고, 그들의 손에 딱 맞는 무기와 필요한 아이템들을 아낌없이 주었네. 아깝지 않았냐고? 훗, 모르는 소리. 그들은 나의 은혜를 잊지 않고 영웅적인 활약을 많이 했기에 오히려 나의 명성은 날이 갈수록 높아져만 갔지. 그런데도 내가 돈 한두 푼을 아껴서야 되겠는가?"
    },
    {
      "who": "리더 알",
      "text": "언제부터인가 그들도 각자 주니어로 삼을 인재를 길러내었고 다른 모험가는 나를 리더 알이라 부르고 우리를 알 패밀리라고 부르며 경외하기 시작했지. 우리는 다른 모험가들보다 월등히 강했네! 우리는 모두가 이미 이름이 널리 알려진 모험가들이었고 유명한 명성 만큼이나 이름난 모험가의 특권을 누릴 수 있었거든 ….."
    },
    {
      "who": "리더 알",
      "text": "이 특권은 정말로 대단한 것이네! 자네가 나중에 이런 특권을 누려본다면 틀림없이 자네는 그렇지 못하는 모험가들을 불쌍하게 생각할것이네. 크흠 ….. 어쨌든 나는 나를 따르는 패밀리원들을 이끌고 온 세상 곳곳을 돌아다니며 모험을 했지만… 한 순간의 실수로 패밀리원들의 신뢰를 저버리고 말았지."
    },
    {
      "who": "리더 알",
      "text": "검은 마법사의 꾀임에 빠져 한 던전에서 무려 11년 동안이나 깨어나지 못했던 것이네! 나의 도움이 끊긴 나의 주니어들은 갑자기 사정이 어려워졌고 결국 패밀리원이 더 인망있는 리더를 찾아 뿔뿔이 흩어지고 말았네. 자네가 리더가 되면 나 같이 주니어를 내버려두는 실수는 절대로 없어야 할 것이야. 알겠는가?"
    },
    {
      "who": "리더 알",
      "text": "기나긴 이야기를 성심성의껏 들어 주어서 고맙군. 어쨌든 나는 옛날 나의 실수를 만회하고자 다시 이 대륙에 왔고, 새로운 주니어를 찾는 동안 자네 같은 모험가에게 패밀리에 관한 나의 노하우를 전해주기도 한다네. 앞으로 자네의 패밀리 번창을 빌어주도록 하지. 그래,내 이야기는 잘 들었는가?"
    },
    {
      "who": "리더 알",
      "text": "자네도 이제 패밀리 활동을 해 보게. 나중에라도 패밀리 활동을 할 마음이 생기면 나에게 말해주게. 그럼, 행운을 빌겠네!"
    }
  ],
  "descHtml": "<p>리더 알은 소문으로 들은 것보다 인상이 좋은 아저씨였다. 궁금한 것이 많은데 ... 마음의 준비가 되면 물어보라고 했지? 지금 다시 물어보자.</p>",
  "reqs": [],
  "craftReqs": [],
  "craftNpcs": [],
  "tips": [],
  "rewards": [
    {
      "exp": 10500,
      "img": "https://drive.google.com/thumbnail?id=1O9FuxyZEG_nZVJikWShUPKvb5zCH7t-z&sz=w200"
    }
  ],
  "prereqs": [],
  "nexts": [
    {
      "id": "2232",
      "title": "주니어를 등록해보자!"
    }
  ]
};
  const img=(src,alt='',cls='')=>`<img src="${src||''}" alt="${alt||''}" ${cls?`class="${cls}"`:''} onerror="if(!this.dataset.fbk){this.dataset.fbk=1;this.src=this.src.replace('thumbnail?id=','uc?export=view&id=');}else{this.style.display='none'}">`;
  const row=(l,il,nl,r,ir,nr,ll='',lr='')=>{const cell=(label,im,name,link)=>{const inner=`${img(im,name)}<div class='text-sm'><div class='muted'>${label}</div><div class='font-medium'>${name||'-'}</div></div>`;return link?`<a class='row' href='${link}'>${inner}</a>`:`<div class='row'>${inner}</div>`;};return `<div class='row'>${cell(l,il,nl,ll)}<div class='muted' style='padding:0 .5rem'>|</div>${cell(r,ir,nr,lr)}</div>`;};
  const rewardBox=r=>{if(typeof r.exp==='number'){const pic=img(r.img,'EXP','thumb');const txt=`<div class='text-sm font-medium'>경험치 ${r.exp.toLocaleString()} exp</div>`;return `<div class='ibox'>${pic}${txt}</div>`;}const title=`${r.name||''}${(r.qty&&r.qty>0)?' ×'+r.qty:''}`;const pic=img(r.img,r.name,'thumb');const inner=`<div class='text-sm font-medium'>${title}</div>`;return r.itemId?`<a class='ibox' href='https://linsuol13-bit.github.io/LO/item-${r.itemId}.html'>${pic}${inner}</a>`:`<div class='ibox'>${pic}${inner}</div>`;};
  const reqBox=r=>{const isItem=r.kind==='item';const title=isItem?`${r.name} ×${r.qty||''}`:`${r.name} ×${r.qty||''}`;const pic=img(r.img,r.name,'thumb');const href = r.id ? (isItem ? `https://linsuol13-bit.github.io/LO/item-${r.id}.html` : `https://linsuol13-bit.github.io/LO/monster-${r.id}.html`) : '';const inner = `${pic}<div class='text-sm'><div class='muted'>${isItem?'필요 아이템':'처치 대상'}</div><div class='font-medium'>${title}</div></div>`;return href?`<a class='ibox' href='${href}'>${inner}</a>`:`<div class='ibox'>${inner}</div>`;};
  const isPlayer=w=>/^(나|플레이어|주인공|Player|영웅)$/i.test((w||'').toString().trim());
  const avatarFor=who=>{if(who===(q.start.npc&&q.start.npc.name))return q.start.npc.img;if(who===(q.finish.npc&&q.finish.npc.name))return q.finish.npc.img;return '';};
  const dialogueRow=d=>{d=d||{};const left=!isPlayer(d.who);const av=left?avatarFor(d.who):'';const avatar=(left&&av)?`<img class='avatar' src='${av}' alt='${d.who||''}' onerror="if(!this.dataset.fbk){this.dataset.fbk=1;this.src=this.src.replace('thumbnail?id=','uc?export=view&id=');}else{this.style.display='none'}">`:'';return `<div class='flex items-start ${left?'justify-start':'justify-end'} gap-2'>${left?avatar:''}<div class='bubble ${left?'bubble-left':'bubble-right'}'><div class='bubble-name'>${d.who||''}</div><div class='text-sm leading-snug' style='white-space:pre-line'>${d.text||''}</div></div></div>`;};
  const prereqSection=list=>{if(!Array.isArray(list)||!list.length)return'';const boxes=list.map(p=>`<a class='ibox' href='https://linsuol13-bit.github.io/LO/quest-${p.id}.html'><div class='text-sm'><div class='muted'>선행 퀘스트</div><div class='font-medium'>[${p.id}] ${p.title}</div></div></a>`).join('');return `<section class='mb-6'><h2 class='text-sm font-semibold mb-2'>선행 퀘스트</h2><div class='grid'>${boxes}</div></section>`;};
  const nextSection=list=>{if(!Array.isArray(list)||!list.length)return'';const boxes=list.map(n=>`<a class='ibox' href='https://linsuol13-bit.github.io/LO/quest-${n.id}.html'><div class='text-sm'><div class='muted'>다음 퀘스트</div><div class='font-medium'>[${n.id}] ${n.title}</div></div></a>`).join('');return `<section class='mb-6'><h2 class='text-sm font-semibold mb-2'>다음 퀘스트</h2><div class='grid'>${boxes}</div></section>`;};
  const reqSection=list=>{if(!Array.isArray(list)||!list.length)return'';return `<div class='mt-3'><div class='muted text-xs mb-1'>요구 조건</div><div class='grid' style='grid-template-columns:1fr 1fr; gap:.75rem'>${list.map(reqBox).join('')}</div></div>`;};
  const $detail=document.getElementById('detail');
  $detail.innerHTML=`
    <header class='mb-4'><h1 class='text-2xl font-bold'>${q.code} · ${q.title}</h1><p class='text-sm muted'>${q.region} · ${q.type} · Lv.${q.minLevel}</p></header>
    ${prereqSection(q.prereqs)}
    <section class='grid' style='grid-template-columns:1fr 1fr;'>
      <div class='card'><h2 class='text-sm font-semibold mb-3'>시작</h2>${row('시작 NPC', q.start.npc.img, q.start.npc.name, '시작 장소', q.start.place.img, q.start.place.name, (q.start.npc.id?`https://linsuol13-bit.github.io/LO/npc-${q.start.npc.id}.html`:''), (q.start.place.code?`https://linsuol13-bit.github.io/LO/map-${q.start.place.code}.html`:''))}</div>
      <div class='card'><h2 class='text-sm font-semibold mb-3'>완료</h2>${row('완료 NPC', q.finish.npc.img, q.finish.npc.name, '완료 장소', q.finish.place.img, q.finish.place.name, (q.finish.npc.id?`https://linsuol13-bit.github.io/LO/npc-${q.finish.npc.id}.html`:''), (q.finish.place.code?`https://linsuol13-bit.github.io/LO/map-${q.finish.place.code}.html`:''))}</div>
    </section>
    <section class='mb-6'><h2 class='text-sm font-semibold mb-2'>대사</h2><div class='card' style='display:grid; gap:.5rem'>${(q.dialogues||[]).map(dialogueRow).join('')}</div></section>
    <section class='mb-6'><h2 class='text-sm font-semibold mb-2'>퀘스트 조건</h2><div class='card text-sm leading-relaxed text-gray-800 mb-3'>${q.descHtml}</div>${reqSection(q.reqs)}
    ${(Array.isArray(q.craftReqs)&&q.craftReqs.length)?`
    <div class='mt-3'>
      <div class='muted text-xs mb-1'>제작 재료</div>
      <div class='grid' style='grid-template-columns:1fr 1fr; gap:.75rem'>${q.craftReqs.map(reqBox).join('')}</div>
    </div>`:''}
    ${(Array.isArray(q.craftNpcs)&&q.craftNpcs.length)?`
    <div class='mt-3'>
      <div class='muted text-xs mb-1'>제작 NPC</div>
      <div class='grid' style='grid-template-columns:1fr 1fr; gap:.75rem'>${q.craftNpcs.map(craftNpcBox).join('')}</div>
    </div>`:''}
      ${(q.completionDialogues&&q.completionDialogues.length)?`
      <div class='mt-4 pt-3 border-t'><h2 class='text-sm font-semibold mb-2'>완료 대사</h2><div class='card'>${(q.completionDialogues||[]).map(dialogueRow).join("")}</div></div>`:''}
    </section>
    ${(q.rewards&&q.rewards.length)?`<section class='mb-6'><h2 class='text-sm font-semibold mb-2'>완료 보상</h2><div class='grid'>${q.rewards.map(rewardBox).join('')}</div></section>`:''}
    ${nextSection(q.nexts)}
  `;
})();
</script>
<script>
(function(){
  var a=document.getElementById('back-to-quests');
  if(!a) return;
  a.addEventListener('click',function(e){
    e.preventDefault();
    try{
      var href=this.getAttribute('href')||'index.html?tab=quests';
      var u=href+(href.indexOf('?')>-1?'&':'?')+'nocache='+Date.now();
      location.replace(u);
    }catch(err){ location.href='index.html?tab=quests'; }
  });
})();
</script>
</body>
</html>