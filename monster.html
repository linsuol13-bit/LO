<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Monster Detail • 로나월드</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">
<div class="mx-auto max-w-5xl p-4 sm:p-6 lg:p-8">
  <a href="index.html?tab=monsters" class="inline-flex items-center gap-1 text-sm mb-3 text-blue-600 hover:underline">← 목록(몬스터)으로</a>
  <article id="detail" class="border rounded-xl bg-white p-4"></article>
</div>
<script>
function safeImg(src, alt, cls){ if(!src) return ''; return `<img src="${src}" alt="${alt||''}" class="${cls||''}" onerror="this.style.display='none'">`; }
const SAMPLE = {
  items: [
    { id:'4000012', name:'초록버섯의 갓', img:'https://drive.google.com/thumbnail?id=1e09hggjXTuuCOxBWE2jILeGe7rpaft5a&sz=w512' },
    { id:'2000006', name:'레몬', img:'https://placehold.co/120x90?text=Lemon' },
    { id:'4000037', name:'버블링의 큰 방울', img:'https://drive.google.com/thumbnail?id=1ZtmZq-lnEPVRCr1BSUV8eKlCkFgPHm95&sz=w512' }
  ],
  monsters: [
    { id:'1110100', name:'초록버섯', level:10, exp:12, regions:['빅토리아 아일랜드'], img:'https://drive.google.com/thumbnail?id=1zyqRL1fHCHGqnDQED1VecF9g1vERURMe&sz=w256', drops:['4000012'] },
    { id:'1210103', name:'버블링', level:12, exp:18, regions:['빅토리아 아일랜드'], img:'https://drive.google.com/thumbnail?id=152JwPSvhWxCSAIUVYU-wN69RECJ2C4rN&sz=w256', drops:['4000037'] }
  ]
};
const params = new URLSearchParams(location.search);
const id = params.get('id')||'';
const mon = (SAMPLE.monsters||[]).find(x=> String(x.id)===String(id));
function findItem(iid){ return SAMPLE.items.find(i=> i.id===iid); }
const detail = document.getElementById('detail');
if(!mon){ detail.innerHTML = "<div class='p-6 text-center text-sm text-gray-500'>몬스터를 찾을 수 없어요</div>"; }
else{
  const drops = (mon.drops||[]).map(findItem).filter(Boolean);
  detail.innerHTML = `
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div>${safeImg(mon.img, mon.name, 'w-full aspect-video object-contain rounded-lg bg-white border')}</div>
    <div class="lg:col-span-2 min-w-0">
      <h2 class="text-xl font-semibold">${mon.name}</h2>
      <div class="text-xs text-gray-600 mt-1">Lv.${mon.level||'-'} · EXP ${(mon.exp||0).toLocaleString()}</div>
      <section class="mt-4">
        <h3 class="text-sm font-semibold mb-2">출현 지역</h3>
        ${(mon.regions||[]).map(r=>`<span class='text-xs px-2 py-1 rounded-full border bg-white mr-2'>${r}</span>`).join('')||'<div class="text-sm text-gray-500">-</div>'}
      </section>
      <section class="mt-6">
        <h3 class="text-sm font-semibold mb-2">드랍 아이템</h3>
        ${ drops.length ? (`<div class="grid grid-cols-1 sm:grid-cols-2 gap-3">` + drops.map(it=>`
          <article class="flex items-center gap-3 rounded-lg border p-2 bg-white">
            ${safeImg(it.img, it.name, 'w-12 h-12 object-contain rounded-lg bg-white')}
            <div class="min-w-0">
              <div class="text-sm font-medium truncate">${it.name}</div>
              <a href="item.html?id=${encodeURIComponent(it.id)}" class="text-xs text-blue-600 hover:underline">아이템 상세</a>
            </div>
          </article>`).join('') + `</div>`) : '<div class="text-sm text-gray-500">정보 없음</div>' }
      </section>
    </div>
  </div>`;
}
</script>
</body>
</html>
