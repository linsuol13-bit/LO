<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>퀘스트 상세 • 에오스탑의 위협</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif; }
  .card { border:1px solid #e5e7eb; border-radius:0.75rem; background:#fff; padding:1rem; }
  .muted { color:#6b7280; }
  .row { display:flex; align-items:center; gap:.75rem; }
  .grid { display:grid; gap:1rem; }
  img { max-width:100%; height:auto; }
  .thumb { width:56px; height:56px; object-fit:contain; background:#fff; border:1px solid #e5e7eb; border-radius:0.5rem; padding:4px; }
  .ibox { display:flex; align-items:center; gap:.75rem; padding:.5rem; border:1px solid #e5e7eb; border-radius:0.75rem; background:#fff; transition: background .15s ease; }
  .ibox:hover { background:#f9fafb; }
  .bubble{position:relative;max-width:80%;padding:.625rem .75rem;border-radius:1rem;line-height:1.45;box-shadow:0 1px 2px rgba(0,0,0,.06)}
  .bubble-left{background:#f8fafc;border:1px solid #e5e7eb;color:#111827}
  .bubble-right{background:#3b82f6;border:1px solid #1d4ed8;color:#fff}
  .bubble-left:after{content:"";position:absolute;left:-6px;top:12px;border-width:6px;border-style:solid;border-color:transparent #e5e7eb transparent transparent}
  .bubble-left:before{content:"";position:absolute;left:-5px;top:12px;border-width:6px;border-style:solid;border-color:transparent #f8fafc transparent transparent}
  .bubble-right:after{content:"";position:absolute;right:-6px;top:12px;border-width:6px;border-style:solid;border-color:transparent transparent transparent #1d4ed8}
  .bubble-right:before{content:"";position:absolute;right:-5px;top:12px;border-width:6px;border-style:solid;border-color:transparent transparent transparent #3b82f6}
  .bubble-name{font-weight:600;font-size:.875rem;margin-bottom:.125rem}
  .avatar{width:40px;height:40px;border-radius:9999px;border:1px solid #e5e7eb;object-fit:cover;background:#fff}
</style>
</head>
<body class="bg-gray-50 text-gray-900">
<div class="mx-auto max-w-5xl p-4 sm:p-6 lg:p-8">
<a class="inline-flex items-center gap-1 text-sm mb-4 text-blue-600 hover:underline" href="index.html?tab=quests" id="back-to-quests">← 퀘스트 목록으로</a>
<article id="detail"></article>
</div>
<script>
(()=>{
  'use strict';
  const q = {"id": "3203", "code": "마르셀 1-4", "title": "에오스탑의 위협", "type": "몬스터 사냥", "region": "루디브리엄", "minLevel": 35, "start": {"npc": {"name": "마르셀", "img": "https://drive.google.com/thumbnail?id=1z_zXUodvu6UQG2lSqRwg01wO2HF5u0Bg&sz=w400", "id": "2041004"}, "place": {"name": "루디브리엄", "img": "https://drive.google.com/thumbnail?id=1Kj9oNwnGKxoPcTN6XasMfh7yT6TzS5Kc&sz=w400", "code": "220000000"}}, "finish": {"npc": {"name": "마르셀", "img": "https://drive.google.com/thumbnail?id=1z_zXUodvu6UQG2lSqRwg01wO2HF5u0Bg&sz=w400", "id": "2041004"}, "place": {"name": "루디브리엄", "img": "https://drive.google.com/thumbnail?id=1Kj9oNwnGKxoPcTN6XasMfh7yT6TzS5Kc&sz=w400", "code": "220000000"}}, "dialogues": [{"who": "마르셀", "text": "어머나! 기다리던 참이었는데 잘 와 주셨어요. 이번에는 꽤 심각한 문제가 생겼거든요. 엄청나게 흉폭한 몬스터가 생겨나서 탑은 물론 루디브리엄까지 위협하고 있다는 소식입니다. 그래서 대신 퇴치해 주셨으면 하는데 제 부탁을 들어 주시겠어요?"}, {"who": "마르셀", "text": "좋습니다! 에오스탑을 건설하다가 남은 장난감 블록에 어두운 힘이 깃들어 스스로 움직이는 골렘으로 다시 태어나 지나가는 이들을 공격하는 것은 물론 에오스탑 이곳 저곳을 파괴하고 다닌다는 정보입\n니다. 많이 위험하겠지만 에오스탑 어딘가에서 골렘들을 찾아 녀석들의 수를 좀 줄여주셨으면 해요."}, {"who": "마르셀", "text": "에오스탑 어딘가에서 발견할 수 있다는 블록골렘 20 마리와 킹 블록골렘 12 마리를 쓰러뜨리고 돌아와 주세요. 장난감 블록으로 된 몸을 가진 거대한 골렘이랍니다. 이 녀석들은 이제까지 몬스터들보다\n훨씬 강하니까 조심하셔야 해요. 그럼 이곳에서 기다리고 있겠습니다!"}], "completionDialogues": [{"who": "마르셀", "text": "그 난폭한 골렘들을 모두 쓰러뜨리고 오시다니 정말 제가 생각한 것 이상이시로군요! 어땠나요? 녀석들이 에오스탑을 많이 파괴한 건 아니겠죠? 아무튼 이렇게 제 부탁을 들어주셨으니 보답을 해야 겠네요. 사냥에 꼭 필요한 물품을 드릴테니 사양하지 말고 받아 주세요!"}, {"who": "마르셀", "text": "보답은 잘 받으셨나요? 도와주셔서 고마웠습니다. 이제 에오스탑도 어느 정도 안전해 진 것 같군요. 하지만 왠지 모를 이 불안감은 뭘까요... 아무튼 혹시 모르니 시간이 나신다면 다음 번에 꼭 다시 찾아주세요."}], "descHtml": "루디브리엄의 마르셀로부터 에오스탑 어딘가에 살고 있는 골렘인 블록골렘 20마리와 킹 블록골렘 12마리를 쓰러뜨리고 돌아와 달라는 부탁을 받았다.", "reqs": [{"kind": "monster", "name": "킹 블록골렘", "img": "https://drive.google.com/thumbnail?id=1BjUnumULxqeJT06RQic33_S1gABndFt_&sz=w200", "qty": 12, "id": "4230110"}, {"kind": "monster", "name": "블록골렘", "img": "https://drive.google.com/thumbnail?id=1tKvHFr0HfiQZop7d50JsBueY8IG8n7lO&sz=w200", "qty": 20, "id": "4230109"}], "craftReqs": [], "craftNpcs": [], "tips": [], "rewards": [{"name": "활 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044501", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "석궁 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044601", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "폴암 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044401", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "완드 마력 주문서 60% [랜덤]", "qty": 1, "itemId": "2043701", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "스태프 마력 주문서 60% [랜덤]", "qty": 1, "itemId": "2043801", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "아대 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044701", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "너클 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044801", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "건 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044901", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "한손검 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2043001", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "한손둔기 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2043201", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "단검 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2043301", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "두손검 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044001", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "두손도끼 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044101", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "한손도끼 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2043101", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "두손둔기 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044201", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"name": "창 공격력 주문서 60% [랜덤]", "qty": 1, "itemId": "2044301", "img": "https://drive.google.com/thumbnail?id=1UCddyOp3Mx_VAtbjwQpSDhoTG_S2HAgN&sz=w200"}, {"exp": 49000, "img": "https://drive.google.com/thumbnail?id=1O9FuxyZEG_nZVJikWShUPKvb5zCH7t-z&sz=w200"}], "prereqs": [{"id": "3202", "title": "에오스탑 외부 청소"}], "nexts": []};
  const img=(src,alt='',cls='')=>`<img src="${src||''}" alt="${alt||''}" ${cls?`class="${cls}"`:''} onerror="if(!this.dataset.fbk){this.dataset.fbk=1;this.src=this.src.replace('thumbnail?id=','uc?export=view&id=');}else{this.style.display='none'}">`;
  const row=(l,il,nl,r,ir,nr,ll='',lr='')=>{const cell=(label,im,name,link)=>{const inner=`${img(im,name)}<div class='text-sm'><div class='muted'>${label}</div><div class='font-medium'>${name||'-'}</div></div>`;return link?`<a class='row' href='${link}'>${inner}</a>`:`<div class='row'>${inner}</div>`;};return `<div class='row'>${cell(l,il,nl,ll)}<div class='muted' style='padding:0 .5rem'>|</div>${cell(r,ir,nr,lr)}</div>`;};
  const rewardBox=r=>{if(typeof r.exp==='number'){const pic=img(r.img,'EXP','thumb');const txt=`<div class='text-sm font-medium'>경험치 ${r.exp.toLocaleString()} exp</div>`;return `<div class='ibox'>${pic}${txt}</div>`;}const title=`${r.name||''}${(r.qty&&r.qty>0)?' ×'+r.qty:''}`;const pic=img(r.img,r.name,'thumb');const inner=`<div class='text-sm font-medium'>${title}</div>`;return r.itemId?`<a class='ibox' href='https://linsuol13-bit.github.io/LO/item-${r.itemId}.html'>${pic}${inner}</a>`:`<div class='ibox'>${pic}${inner}</div>`;};
  const reqBox=r=>{const isItem=r.kind==='item';const isMonster=r.kind==='monster';const title=isMonster?`${r.name} ×${r.qty||''}`:`${r.name} ×${r.qty||''}`;const pic=img(r.img,r.name,'thumb');let href='';if(r.id){href = isItem ? `https://linsuol13-bit.github.io/LO/item-${r.id}.html` : `https://linsuol13-bit.github.io/LO/monster-${r.id}.html`;}const inner = `${pic}<div class='text-sm'><div class='muted'>${isMonster?'처치 대상':'필요 아이템'}</div><div class='font-medium'>${title}</div></div>`;return href?`<a class='ibox' href='${href}'>${inner}</a>`:`<div class='ibox'>${inner}</div>`;};
  const isPlayer=w=>/^(나|플레이어|주인공|Player|영웅)$/i.test((w||'').toString().trim());
  const avatarFor=who=>{if(who===(q.start.npc&&q.start.npc.name))return q.start.npc.img;if(who===(q.finish.npc&&q.finish.npc.name))return q.finish.npc.img;return '';};
  const dialogueRow=d=>{d=d||{};const left=!isPlayer(d.who);const av=left?avatarFor(d.who):'';const avatar=(left&&av)?`<img class='avatar' src='${av}' alt='${d.who||''}' onerror="if(!this.dataset.fbk){this.dataset.fbk=1;this.src=this.src.replace('thumbnail?id=','uc?export=view&id=');}else{this.style.display='none'}">`:'';return `<div class='flex items-start ${left?'justify-start':'justify-end'} gap-2'>${left?avatar:''}<div class='bubble ${left?'bubble-left':'bubble-right'}'><div class='bubble-name'>${d.who||''}</div><div class='text-sm leading-snug' style='white-space:pre-line'>${d.text||''}</div></div></div>`;};
  const prereqSection=list=>{if(!Array.isArray(list)||!list.length)return'';const boxes=list.map(p=>`<a class='ibox' href='https://linsuol13-bit.github.io/LO/quest-${p.id}.html'><div class='text-sm'><div class='muted'>선행 퀘스트</div><div class='font-medium'>[${p.id}] ${p.title}</div></div></a>`).join('');return `<section class='mb-6'><h2 class='text-sm font-semibold mb-2'>선행 퀘스트</h2><div class='grid'>${boxes}</div></section>`;};
  const nextSection=list=>{if(!Array.isArray(list)||!list.length)return'';const boxes=list.map(n=>`<a class='ibox' href='https://linsuol13-bit.github.io/LO/quest-${n.id}.html'><div class='text-sm'><div class='muted'>다음 퀘스트</div><div class='font-medium'>[${n.id}] ${n.title}</div></div></a>`).join('');return `<section class='mb-6'><h2 class='text-sm font-semibold mb-2'>다음 퀘스트</h2><div class='grid'>${boxes}</div></section>`;};
  const reqSection=list=>{if(!Array.isArray(list)||!list.length)return'';return `<div class='mt-3'><div class='muted text-xs mb-1'>요구 조건</div><div class='grid' style='grid-template-columns:1fr 1fr; gap:.75rem'>${list.map(reqBox).join('')}</div></div>`;};
  const $detail=document.getElementById('detail');
  $detail.innerHTML=`
    <header class='mb-4'><h1 class='text-2xl font-bold'>[${q.id}] ${q.code} · ${q.title}</h1><p class='text-sm muted'>${q.region} · ${q.type} · Lv.${q.minLevel}</p></header>
    ${prereqSection(q.prereqs)}
    <section class='grid' style='grid-template-columns:1fr 1fr;'>
      <div class='card'><h2 class='text-sm font-semibold mb-3'>시작</h2>${row('시작 NPC', q.start.npc.img, q.start.npc.name, '시작 장소', q.start.place.img, q.start.place.name, (q.start.npc.id?`https://linsuol13-bit.github.io/LO/npc-${q.start.npc.id}.html`:''), (q.start.place.code?`https://linsuol13-bit.github.io/LO/map-${q.start.place.code}.html`:''))}</div>
      <div class='card'><h2 class='text-sm font-semibold mb-3'>완료</h2>${row('완료 NPC', q.finish.npc.img, q.finish.npc.name, '완료 장소', q.finish.place.img, q.finish.place.name, (q.finish.npc.id?`https://linsuol13-bit.github.io/LO/npc-${q.finish.npc.id}.html`:''), (q.finish.place.code?`https://linsuol13-bit.github.io/LO/map-${q.finish.place.code}.html`:''))}</div>
    </section>
    <section class='mb-6'><h2 class='text-sm font-semibold mb-2'>대사</h2><div class='card' style='display:grid; gap:.5rem'>${(q.dialogues||[]).map(dialogueRow).join('')}</div></section>
    <section class='mb-6'><h2 class='text-sm font-semibold mb-2'>퀘스트 조건</h2><div class='card text-sm leading-relaxed text-gray-800 mb-3'>${q.descHtml}</div>${reqSection(q.reqs)}
      ${(q.completionDialogues&&q.completionDialogues.length)?`
      <div class='mt-4 pt-3 border-t'><h2 class='text-sm font-semibold mb-2'>완료 대사</h2><div class='card'>${(q.completionDialogues||[]).map(dialogueRow).join("")}</div></div>`:''}
    </section>
    ${(q.rewards&&q.rewards.length)?`<section class='mb-6'><h2 class='text-sm font-semibold mb-2'>완료 보상</h2><div class='grid'>${q.rewards.map(rewardBox).join('')}</div></section>`:''}
    ${nextSection(q.nexts)}
  `;
})();
</script>
<script>
(function(){
  var a=document.getElementById('back-to-quests');
  if(!a) return;
  a.addEventListener('click',function(e){
    e.preventDefault();
    try{
      var href=this.getAttribute('href')||'index.html?tab=quests';
      var u=href+(href.indexOf('?')>-1?'&':'?')+'nocache='+Date.now();
      location.replace(u);
    }catch(err){ location.href='index.html?tab=quests'; }
  });
})();
</script>
</body>
</html>
